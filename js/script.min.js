var link=document.querySelector(".write-us-button"),popup=document.querySelector(".write-us"),close=document.querySelector(".close-btn"),form=popup.querySelector("form"),writeusName=document.querySelector("[name=popup-name]"),writeusEmail=document.querySelector("[name=popup-email]"),writeusText=document.querySelector("[name=popup-text]"),storage="";try{storage=localStorage.getItem("writeusName")}catch(a){isStorageSupport=!1}
link.addEventListener("click",function(a){a.preventDefault();popup.classList.add("write-us-show");storage?(writeusName.value=storage,writeusEmail.focus()):writeusName.focus()});close.addEventListener("click",function(a){a.preventDefault();popup.classList.remove("write-us-show");popup.classList.remove("write-us-error")});
form.addEventListener("submit",function(a){writeusName.value&&writeusEmail.value&&writeusText.value?isStorageSupport&&localStorage.setItem("writeusName",writeusName.value):(a.preventDefault(),popup.classList.remove("write-us-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("write-us-error"))});window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),popup.classList.contains("write-us-show")&&(popup.classList.remove("write-us-show"),popup.classList.remove("write-us-error")))});
var mapLink=document.querySelector(".contacts-map-btn"),mapPopup=document.querySelector(".map"),mapClose=mapPopup.querySelector(".close-btn");mapLink.addEventListener("click",function(a){a.preventDefault();mapPopup.classList.add("map-show")});mapClose.addEventListener("click",function(a){a.preventDefault();mapPopup.classList.remove("map-show")});window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),mapPopup.classList.contains("map-show")&&mapPopup.classList.remove("map-show"))});